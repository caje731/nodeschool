var net = require('net');
var server = net.createServer(function(socket){
	socket.end(getFormattedDate());	
});

// YYYY-MM-DD hh:mm  ->  2014-12-03 17:45
function getFormattedDate(){
	var now = new Date();
	var year= now.getFullYear();
	var month=padZero(now.getMonth()+1);
	var day = padZero(now.getDate());
	var hrs = padZero(now.getHours());
	var min = padZero(now.getMinutes());
	return year+'-'+month+'-'+day+' '+hrs+':'+min;
};

function padZero(num){
	var str = String(num);
	return str.length<2 ? "0"+str : str;
};
server.listen(process.argv[2]);